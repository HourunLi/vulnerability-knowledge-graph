import numpy as np

trainRatio, validRatio, testRatio= 0.8, 0.1, 0.1
f = open("all.txt", "r")
num = int(f.readline())
dataArray = np.zeros((num, 3), dtype = int)
index = 0
if num > 0:
    line = f.readline()
    while line:
        args = line.strip().split(" ")
        dataArray[index, :] = args
        index += 1
        line = f.readline()

np.random.shuffle(dataArray)
trainPivot = int(num * trainRatio)
validPivot = int(num * validRatio) + trainPivot

trainSlice = dataArray[0:trainPivot]
validSlice = dataArray[trainPivot:validPivot]
testSlice = dataArray[validPivot:]

f_train = open("train2id.txt", "w")
f_valid = open("valid2id.txt", "w")
f_test = open("test2id.txt", "w")

f_train.write("%d\n" % len(trainSlice))
for i in range(len(trainSlice)):
    f_train.write("%d %d %d\n" % (trainSlice[i][0], trainSlice[i][1], trainSlice[i][2]))

f_test.write("%d\n" % len(testSlice))
for i in range(len(testSlice)):
    f_test.write("%d %d %d\n" % (testSlice[i][0], testSlice[i][1], testSlice[i][2]))

f_valid.write("%d\n" % len(validSlice))
for i in range(len(validSlice)):
    f_valid.write("%d %d %d\n" % (validSlice[i][0], validSlice[i][1], validSlice[i][2]))

f.close()